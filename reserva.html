<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reservaStyles.css">
    <link rel="stylesheet" href="home-page.css">
    <title>CineScense</title>
</head>
<body>
    <nav class="encabezado"> 
        <a href="home-page.html"> <img src="./imagenes/logo.png" width="100" height="100"> </a> 
        <div class="botones" style="justify-content: center;"> 
            <a href="home-page.html"> Home </a> 
            <a href="cartelera.html"> Cartelera </a>
            <a href="candy.html"> Candy </a> 
            <a href="promociones.html"> Promociones </a> 
            <a href="xperiencescense.html"> XperienceScense </a> 
       </div>
    </nav>
    <main>
        <div class="contenedor-reserva">
            <div class="contenedor-formulario-reserva">
                <p class="titulo-reserva">Hacé tu reserva</p>
                <p class="precio-entrada">Precio entrada individual: $1.000</p>
                <form>
                    <div class="contenedor-formulario-reserva-datos-personales">
                        <p class="subtitulo-form-reserva">Datos Personales</p>
                        <label>Nombre</label>
                        <input type="text">
                        <label>Email</label>
                        <input type="email">
                    </div>
                    <div class="contenedor-formulario-reserva-datos-reserva">
                        <p class="subtitulo-form-reserva">Personalización de reserva</p>
                        <p>Fecha</p>
                        <input type="radio" name="fecha" value="20/09">
                        <label>20/09</label>
                        <input type="radio" name="fecha" value="12:00">
                        <label>21/09</label>

                        <p>Horario</p>
                        <input type="radio" name="horario" value="12:00">
                        <label>12:00</label>
                        <input type="radio" name="horario" value="16:00">
                        <label>16:00</label>
                        <input type="radio" name="horario" value="20:00">
                        <label>20:00</label>

                        <p>Sala</p>
                        <input type="radio" name="sala" value="2D">
                        <label>2D</label>
                        <input type="radio" name="sala" value="3D">
                        <label>3D</label>
                        <input type="radio" name="sala" value="4D">
                        <label>4D</label>

                        <p>Butacas y cantidad de entradas</p>
                        <div class="contenedor-distribucion-sala">
                            <img class="img-pantalla" src="imagenes/pantalla.png">
                            <div class="contenedor-butacas">
                                <div id="A1" onclick="seleccionar('A1')">A1</div><div id="A2" onclick="seleccionar('A2')">A2</div><div id="A3" onclick="seleccionar('A3')">A3</div>
                                <div id="B1" onclick="seleccionar('B1')">B1</div><div id="B2" onclick="seleccionar('A1')">B2</div><div id="B3" onclick="seleccionar('B3')">B3</div>
                                <div id="C1" onclick="seleccionar('C1')">C1</div><div id="C2" onclick="seleccionar('C2')">C2</div><div id="C3" onclick="seleccionar('C3')">C3</div>
                            </div>
                        </div>

                        <p>Método de pago</p>
                        <div class="contenedor-metodos-de-pago">
                            <input type="radio" name="metodopago" value="efectivo"  onclick="descontar()">
                            <label><img src="imagenes/efectivo.png"> 50% de descuento</label>
                            <input type="radio" name="metodopago" value="mp">
                            <label><img src="imagenes/mercadopago.png"></label>
                            <input type="radio" name="metodopago" value="tarjeta">
                            <label><img src="imagenes/mastercard.png"></label>
                        </div>
                    </div>
                    

                    <p id="total-reserva"></p>
                    <p id="total-reserva-descuento"></p>

                    <div class="contenedor-btn-reservar">
                        <button class="btn-reservar" type="submit">COMPRAR</button>
                        <img class="img-entrada-deco" src="imagenes/entrada.png">
                    </div>
                </form>
            </div>
            <div class="contenedor-informacion-pelicula-reserva">
                <img class="img-poster-reserva" src="imagenes/spidermanacrossthespideruniverse.jpg">
                <video  width="65%" height="25%" controls>
                    <source src="imagenes/trailer.mp4" type="video/mp4">
                </video>
                <p class="titulo-pelicula-reserva">SPIDERMAN ACROSS THE SPIDER-UNIVERSE</p>
                <p class="titulo-info-adicional-reserva">Información adicional</p>
                <p class="info-adicional-reserva sinopsis-reserva"><b>Sinopsis:</b> Tras encontrarse con Gwen Stacy, el agradable vecindario de Brooklyn en el que vive Mike Morales se ve transportado al multiverso, donde Spiderman conocerá a nuevos personajes y vivirá aventuras increíbles.</p>
                <p class="info-adicional-reserva"><b>Duración:</b> 140 minutos</p>
                <p class="info-adicional-reserva"><b>Género:</b> animación</p>
                <p class="info-adicional-reserva"><b>Salas:</b> 2D - 3D - 4D</p>
            </div>
        </div>
    </main>

    <footer>
        <div id="footer">
            <div class="informacion"> <p> Todos los derechos reservados. Cine Scense 2024. 
                Prohibida la reproducción total o parcial sin autorización previa. 
            </p></div>
            <div class="informacion"> <p> Taquilla: Lunes a Domingos de 10:00 a 22:00 hs. </p>
            </div>
            <div class="informacion"> <p> Atención al Cliente: Lunes a Viernes de 09:00 a 18:00 hs.
            </p></div>
            <div class="informacion">
                <p> Número de contacto: 0800-8376-9288
                </p>
            </div>
            <div class="informacion"> <p> Este sitio web utiliza cookies para mejorar 
                su experiencia de usuario. Al continuar navegando, acepta nuestra política
                de cookies.
            </p></div>
            <div class="informacion"> <p> X: @ScenseCine </p></div>
            <div class="informacion"> <p> Facebook: @cine_Scense </p></div>
            <div class="informacion"> <p> Instagram: @cine_Scense </p></div>
        </div>

    </footer>

    <script>
        butacasSeleccionadas = []
        precioEntrada = 1000
        function seleccionar(butaca) {
            document.getElementById(butaca).style.backgroundColor = "gray";
            //console.log(butaca)
            butacasSeleccionadas.push(butaca)

            document.getElementById('total-reserva').innerText = 'Total: $' + butacasSeleccionadas.length * precioEntrada
        }

        function descontar() {
            precioConDescuento = butacasSeleccionadas.length * precioEntrada * 0.5
            document.getElementById('total-reserva-descuento').innerText = 'Total con descuento: ' + precioConDescuento;
            document.getElementById('total-reserva').style.textDecoration = 'line-through'
        }

        document.querySelector('form').addEventListener('submit', function(event) {
            event.preventDefault(); // Previene el envío del formulario para capturar los datos

            const nombre = document.querySelector('input[type="text"]').value;
            const email = document.querySelector('input[type="email"]').value;
            const fecha = document.querySelector('input[name="fecha"]:checked')?.value;
            const horario = document.querySelector('input[name="horario"]:checked')?.value;
            const sala = document.querySelector('input[name="sala"]:checked')?.value;
            const metodoPago = document.querySelector('input[name="metodopago"]:checked')?.value;
            const butacas = butacasSeleccionadas;


            if (metodoPago === 'efectivo') {
                alert(
                    'Felicidades, tu reserva ha sido realizada con éxito\n' +
                    'Nombre: ' + nombre + '\n' +
                    'Email: ' + email + '\n' +
                    'Fecha: ' + fecha + '\n' +
                    'Horario: ' + horario + '\n' +
                    'Sala: ' + sala + '\n' +
                    'Método de pago: ' + metodoPago + '\n' +
                    'Butacas: ' + butacas.join(', ') + '\n' +
                    'Total: ' + precioConDescuento
                );
            } else {
                alert(
                    'Felicidades, tu reserva ha sido realizada con éxito\n' +
                    'Nombre: ' + nombre + '\n' +
                    'Email: ' + email + '\n' +
                    'Fecha: ' + fecha + '\n' +
                    'Horario: ' + horario + '\n' +
                    'Sala: ' + sala + '\n' +
                    'Método de pago: ' + metodoPago + '\n' +
                    'Butacas: ' + butacas.join(', ') + '\n' +
                    'Total: ' + precioEntrada * butacas.length
                );
            }
            
        });

    </script>
</body>
</html>